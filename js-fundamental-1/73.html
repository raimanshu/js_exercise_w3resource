
<h5>Points to remember</h5>
- read the code carefully<br>

<h3>
    Write a JavaScript program to return the difference between two arrays, after applying the provided function to each
    array element of both.</h3>

    Create a Set by applying fn to each element in b.
Use Array.prototype.map() to apply fn to each element in a.
Use Array.prototype.filter() in combination with fn on a to only keep values not contained in b, using Set.prototype.has().

<script>

    // Method 2 
    //#Source https://bit.ly/2neWfJ2 
    const differenceBy = (a, b, fn) => {
        const s = new Set(b.map(v => fn(v)));
        return a.filter(x => !s.has(fn(x)));
    };
    console.log(differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor));
    console.log(differenceBy([{ x: 2 }, { x: 1 }], [{ x: 1 }], v => v.x));


    // Method 3
    const differenceBy2 = (a, b, fn) => {
let s = b.map(x => fn(x))
return a.reduce((pre, y) => (!s.includes(fn(y)) ? pre.push(y) :pre, pre), [])
}

console.log(differenceBy2([2.1, 1.2], [2.3, 3.4], Math.floor))　// [1.2]
console.log(differenceBy2([{ x: 2 }, { x: 1 }], [{ x: 1 }], v => v.x))　// [{"x":2}]


</script>